{% extends "base.html" %}
{% block content %}

<!-- <nav class="navbar navbar-expand-lg navbar-dark bg-dark rounded mb-4">
  <div class="container-fluid">
    <a  href="/" class="btn btn-outline-light btn-sm">Home</a> 
    <a href="/logout" class="btn btn-secondary">logout</a>
  </div>
  
</nav> -->

<h2 class="mb-4">Admin Dashboard</h2>

<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Edit</th>
            <th>Action</th>
        </tr>
    </thead>

    <tbody>
    {% for contact in contacts %}
        <tr>
            <td>{{ contact[1] }}</td>
            <td>{{ contact[2] }}</td>
            <td><a href="{{ url_for('edit', id=contact[0]) }}" 
                   class="btn btn-warning btn-sm">
                   Edit
                </a></td>
            <td>

                <form action="{{ url_for('delete', id=contact[0]) }}" 
                      method="POST" 
                      style="display:inline;"
                      onsubmit="return confirm('Are you sure?');">
                    <button class="btn btn-danger btn-sm">Delete</button>
                </form>

            </td>
        </tr>
    {% endfor %}
    </tbody>


</table>

<nav>
  <ul class="pagination">
    {% if page > 1 %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for('admin', page=page-1) }}">Previous</a>
      </li>
    {% endif %}

    <li class="page-item disabled">
      <span class="page-link">Page {{ page }} of {{ total_pages }}</span>
    </li>

    {% if page < total_pages %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for('admin', page=page+1) }}">Next</a>
      </li>
    {% endif %}
  </ul>
</nav>





{% endblock %}